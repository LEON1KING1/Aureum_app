<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aureum App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="icon" href="aureum_logo.png" />
  <style>
    body{font-family:Inter,Arial,Helvetica,sans-serif;background:#000;color:#fff;margin:0;padding-bottom:90px}
    .container{max-width:720px;margin:0 auto;padding:18px}
    header{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
    header h1{font-size:18px;margin:0}
    .card{background:#0f0f0f;border-radius:12px;padding:18px;margin-bottom:14px}
    .balance{font-size:44px;font-weight:700;background:linear-gradient(135deg,#FFD700,#FFA500);-webkit-background-clip:text;color:transparent}
    .small{color:#bbb;font-size:13px}
    .btn{background:linear-gradient(135deg,#FFD700,#FFA500);color:#000;padding:12px 18px;border-radius:12px;border:0;font-weight:700;cursor:pointer}
    .task{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:#131313;margin-bottom:10px;cursor:pointer}
    .bottom-nav{position:fixed;left:0;right:0;bottom:0;background:#111;border-top:1px solid #222;display:flex;justify-content:space-around;padding:12px}
    .nav-item{color:#bbb;text-align:center}
    .nav-item.active{color:#ffd700}
    .hidden{display:none}
    .logo{width:120px;height:120px;margin:18px auto;display:block;background-image:url('aureum_logo.png');background-size:contain;background-position:center;background-repeat:no-repeat;filter:drop-shadow(0 6px 20px rgba(255,160,0,0.25))}
    .small-muted{color:#888;font-size:12px}
  </style>
</head>
<body>
  <div class="container" id="homeScreen">
    <header>
      <h1>âš¡ Aureum</h1>
    </header>

    <div class="card">
      <div style="text-align:center"><div class="logo" aria-hidden="true"></div></div>
      <div class="small">Your Balance</div>
      <div class="balance" id="balance">0</div>
      <div style="margin-top:10px;">
        <button class="btn" id="connectBtn">Connect Wallet</button>
      </div>
      <div style="margin-top:12px;">
        <button class="btn" id="mineBtn">Mine Now</button>
        <div id="mineMsg" class="small" style="margin-top:8px;color:#ccc"></div>
      </div>
    </div>

    <div class="small" style="margin-bottom:8px">Tasks</div>
    <div class="task" onclick="doTask('subscribe')">
      <div>
        <div style="font-weight:600">Subscribe on X</div>
        <div class="small">Stay updated with Aureum</div>
      </div>
      <div style="color:#ffd700;font-weight:700">+700</div>
    </div>

    <div class="task" onclick="doTask('follow')">
      <div>
        <div style="font-weight:600">Follow & Share on X</div>
        <div class="small">Retweet/promo</div>
      </div>
      <div style="color:#ffd700;font-weight:700">+1200</div>
    </div>

    <div class="task" onclick="doTask('join_channel')">
      <div>
        <div style="font-weight:600">Join Telegram Channel</div>
        <div class="small">Community access</div>
      </div>
      <div style="color:#ffd700;font-weight:700">+1000</div>
    </div>

    <div class="task" onclick="openInvite()">
      <div>
        <div style="font-weight:600">Invite friends</div>
        <div class="small">Get bonus for each referral</div>
      </div>
      <div style="color:#ffd700;font-weight:700">Invite</div>
    </div>

  </div>

  <!-- Wallet page -->
  <div class="container hidden" id="walletScreen">
    <header><h1>Wallet</h1></header>
    <div class="card">
      <div class="small">Connected wallet</div>
      <div id="walletAddr" style="word-break:break-all;color:#fff;margin-top:8px">Not connected</div>
      <div style="margin-top:12px">
        <button class="btn" onclick="openConnectWallet()">Connect / Change Wallet</button>
      </div>
    </div>

    <div class="card">
      <div class="small">Airdrop</div>
      <div id="airdropInfo" style="margin-top:8px;color:#ccc">Airdrop is locked. It will be visible in wallet once opened.</div>
    </div>
    <div style="height:120px"></div>
  </div>

  <!-- Leaderboard page -->
  <div class="container hidden" id="leaderboardScreen">
    <header><h1>Leaderboard</h1></header>
    <div class="card" id="leaders">
      <div class="small">Top holders will appear here</div>
    </div>
  </div>

  <div class="bottom-nav">
    <div class="nav-item active" onclick="show('home')">Home</div>
    <div class="nav-item" onclick="show('leaderboard')">Leaderboard</div>
    <div class="nav-item" onclick="show('wallet')">Wallet</div>
  </div>

<script>
  const tg = window.Telegram ? window.Telegram.WebApp : null;
  if(tg){ tg.expand(); }

  function show(page){
    document.getElementById('homeScreen').classList.add('hidden');
    document.getElementById('walletScreen').classList.add('hidden');
    document.getElementById('leaderboardScreen').classList.add('hidden');
    document.querySelectorAll('.nav-item').forEach((n)=>n.classList.remove('active'));
    if(page==='home'){ document.getElementById('homeScreen').classList.remove('hidden'); document.querySelectorAll('.nav-item')[0].classList.add('active');}
    if(page==='leaderboard'){ document.getElementById('leaderboardScreen').classList.remove('hidden'); document.querySelectorAll('.nav-item')[1].classList.add('active');}
    if(page==='wallet'){ document.getElementById('walletScreen').classList.remove('hidden'); document.querySelectorAll('.nav-item')[2].classList.add('active');}
  }

  function sendToBot(obj){
    if(!tg){
      alert("Open inside Telegram to operate.");
      return;
    }
    tg.sendData(JSON.stringify(obj));
  }

  function openConnectWallet(){
    const addr = prompt("Enter your TON wallet address:", "");
    if(!addr) return;
    document.getElementById('walletAddr').innerText = addr;
    sendToBot({action:"connect_wallet", wallet:addr});
  }

  document.getElementById('connectBtn').addEventListener('click', openConnectWallet);
  document.getElementById('mineBtn').addEventListener('click', ()=>{
    sendToBot({action:"mine"});
  });

  function doTask(id){
    sendToBot({action:"task", task_id:id});
    alert("Task sent for processing. Reward will be applied if valid.");
  }

  function openInvite(){
    if(!tg){ alert("Open inside Telegram."); return; }
    const username = tg.initDataUnsafe && tg.initDataUnsafe.user && tg.initDataUnsafe.user.username ? tg.initDataUnsafe.user.username : null;
    if(!username){ alert("Your Telegram username is required for invite links. Set one in Telegram profile."); return; }
    const invite = `https://t.me/AureumToken_bot?start=${username}`;
    sendToBot({action:"invite", ref: username});
    tg.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(invite)}&text=${encodeURIComponent('Join Aureum and earn tokens! ðŸ’Ž')}`);
  }

  if(tg && tg.initDataUnsafe && tg.initDataUnsafe.user){
    const u = tg.initDataUnsafe.user;
    document.getElementById('balance').innerText = "Loading...";
  }

  function loadLeaderboards(){
    const el = document.getElementById('leaders');
    el.innerHTML = "";
    const sample = [
      {rank:1,name:"mahmod",amt:"4,020,000"},
      {rank:2,name:"john_crypto",amt:"3,750,000"},
      {rank:3,name:"sarah_trader",amt:"3,200,000"}
    ];
    sample.forEach(s=>{
      const node = document.createElement('div');
      node.style.padding = "10px";
      node.style.borderBottom = "1px solid #0e0e0e";
      node.innerHTML = `<strong>#${s.rank} ${s.name}</strong><div class="small-muted">${s.amt} AUR</div>`;
      el.appendChild(node);
    });
  }
  loadLeaderboards();
</script>
</body>
</html>
